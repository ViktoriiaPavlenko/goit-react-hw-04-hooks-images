{"version":3,"sources":["components/Modal/Modal.module.css","App.module.css","components/Button/Button.module.css","services/api.js","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Loader.jsx","components/Modal/Modal.jsx","App.js","helpers/toastError.jsx","index.js","components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","API","fetchImages","query","page","url","fetch","then","response","ok","json","Promise","reject","Error","Searchbar","onSubmit","useState","setQuery","className","styles","searchbar","form","event","preventDefault","trim","toast","warn","type","button","buttonLabel","input","autoComplete","autoFocus","placeholder","value","onChange","target","toLowerCase","ImageGalleryItem","tags","src","largeImageURL","openModal","galleryItem","onClick","alt","image","ImageGallery","images","gallery","map","id","webformatURL","Button","handleClick","Spinner","color","height","width","modalRoot","document","querySelector","Modal","onClose","useEffect","handleKeyDown","e","code","window","addEventListener","removeEventListener","createPortal","currentTarget","overlay","modal","App","setImages","setPage","isLoading","setIsLoading","setOpenModal","modalImage","setModalImage","setAlt","error","setError","hits","length","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","toastError","prevState","catch","finally","onScroll","setTimeout","scrollBy","top","documentElement","clientHeight","behavior","dataset","largeimg","theme","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ad8df651.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2IYoF\",\"modal\":\"Modal_modal__2PC0u\",\"image\":\"Modal_image__3vF6i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2v-fI\",\"error\":\"App_error__3rVlJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__-gCA-\"};","const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '23950514-2b2a864c0ec6a6714acf66442';\n\nfunction fetchImages(query, page) {\n  const url = `${BASE_URL}?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\n\n  return fetch(url).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error(`No results were found for ${query}`));\n  });\n}\n\nconst API = { fetchImages };\n\nexport default API;\n","import { useState } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport PropTypes from 'prop-types';\r\nimport { ImSearch } from 'react-icons/im';\r\nimport styles from './Searchbar.module.css';\r\n\r\nconst Searchbar = ({ onSubmit }) => {\r\n  const [query, setQuery] = useState('');\r\n\r\n  const handleQueryChange = event => {\r\n    setQuery(event.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleQuerySubmit = event => {\r\n    event.preventDefault();\r\n\r\n    if (query.trim() === '') {\r\n      return toast.warn('Please, enter your query');\r\n    }\r\n\r\n    onSubmit(query.trim());\r\n    setQuery('');\r\n  };\r\n\r\n  return (\r\n    <header className={styles.searchbar}>\r\n      <form className={styles.form} onSubmit={handleQuerySubmit}>\r\n        <button type=\"submit\" className={styles.button}>\r\n          <ImSearch />\r\n          <span className={styles.buttonLabel}>Search</span>\r\n        </button>\r\n        <input\r\n          className={styles.input}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          value={query}\r\n          onChange={handleQueryChange}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n};\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n};\r\n\r\nexport default Searchbar;\r\n","import PropTypes from 'prop-types';\r\nimport styles from './ImageGallery.module.css';\r\n\r\nfunction ImageGalleryItem({ tags, src, largeImageURL, openModal }) {\r\n  return (\r\n    <li className={styles.galleryItem} onClick={openModal}>\r\n      <img\r\n        src={src}\r\n        alt={tags}\r\n        data-largeimg={largeImageURL}\r\n        className={styles.image}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  tags: PropTypes.string.isRequired,\r\n  src: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  openModal: PropTypes.func,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import ImageGalleryItem from './ImageGalleryItem';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './ImageGallery.module.css';\r\n\r\nfunction ImageGallery({ images, openModal }) {\r\n  return (\r\n    <ul className={styles.gallery}>\r\n      {images.map(({ id, tags, webformatURL, largeImageURL }) => {\r\n        return (\r\n          <ImageGalleryItem\r\n            key={id}\r\n            tags={tags}\r\n            src={webformatURL}\r\n            largeImageURL={largeImageURL}\r\n            openModal={openModal}\r\n          />\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      tags: PropTypes.string.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n    }).isRequired,\r\n  ),\r\n  openModal: PropTypes.func,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import PropTypes from 'prop-types';\r\nimport styles from './Button.module.css';\r\n\r\nconst Button = ({ handleClick }) => {\r\n  return (\r\n    <button type=\"button\" onClick={handleClick} className={styles.button}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  fetchImages: PropTypes.func,\r\n};\r\n\r\nexport default Button;\r\n","import Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\n\r\nconst Spinner = () => {\r\n  return <Loader type=\"Hearts\" color=\"#00BFFF\" height={100} width={100} />;\r\n};\r\n\r\nexport default Spinner;\r\n","import { useEffect } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default function Modal({ onClose, src, alt }) {\r\n  useEffect(() => {\r\n    const handleKeyDown = e => {\r\n      if (e.code === 'Escape') {\r\n        onClose();\r\n      }\r\n    };\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => window.removeEventListener('keydown', handleKeyDown);\r\n  }, [onClose]);\r\n\r\n  const handleBackdropClick = e => {\r\n    if (e.target === e.currentTarget) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return createPortal(\r\n    <div onClick={handleBackdropClick} className={styles.overlay}>\r\n      <div className={styles.modal}>\r\n        <img className={styles.image} src={src} alt={alt}></img>\r\n      </div>\r\n    </div>,\r\n    modalRoot,\r\n  );\r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func,\r\n  src: PropTypes.string,\r\n  alt: PropTypes.string,\r\n};\r\n","import React, { useState, useEffect } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport toastError from './helpers/toastError';\nimport API from './services/api';\nimport Searchbar from './components/Searchbar/Searchbar.jsx';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button/Button';\nimport Spinner from './components/Loader.jsx';\nimport Modal from './components/Modal/Modal';\nimport styles from './App.module.css';\n\nexport default function App() {\n  const [query, setQuery] = useState('');\n  const [images, setImages] = useState([]);\n  const [page, setPage] = useState(1);\n  const [isLoading, setIsLoading] = useState(false);\n  const [openModal, setOpenModal] = useState(false);\n  const [modalImage, setModalImage] = useState('');\n  const [alt, setAlt] = useState('');\n  const [error, setError] = useState('');\n\n  const onSearch = query => {\n    setQuery(query);\n    setIsLoading(true);\n    setImages([]);\n    setPage(1);\n    setError(null);\n  };\n\n  useEffect(() => {\n    if (!query) {\n      setImages([]);\n      return;\n    }\n    setIsLoading(true);\n\n    API.fetchImages(query, page)\n      .then(({ hits }) => {\n        if (hits.length === 0) {\n          toastError(query);\n        } else {\n          setImages(prevState => [...prevState, ...hits]);\n          setPage(page);\n        }\n      })\n      .catch(error => setError('Please, try again'))\n      .finally(setIsLoading(false));\n  }, [page, query]);\n\n  const onLoadMore = () => {\n    setPage(prevState => prevState + 1);\n    onScroll();\n  };\n\n  const onScroll = () => {\n    setTimeout(() => {\n      window.scrollBy({\n        top: document.documentElement.clientHeight,\n        behavior: 'smooth',\n      });\n    }, 1000);\n  };\n\n  const onOpenModal = e => {\n    e.preventDefault();\n    setOpenModal(true);\n    setModalImage(e.target.dataset.largeimg);\n    setAlt(e.target.alt);\n  };\n\n  const onCloseModal = () => setOpenModal(false);\n\n  return (\n    <div className={styles.App}>\n      <Searchbar onSubmit={onSearch} />\n      {isLoading && <Spinner />}\n      {images.length > 0 && !error && (\n        <>\n          <ImageGallery openModal={onOpenModal} images={images} />\n          <Button handleClick={onLoadMore} />\n        </>\n      )}\n      {openModal && <Modal onClose={onCloseModal} src={modalImage} alt={alt} />}\n      {error && <p className={styles.error}>{error}</p>}\n      <ToastContainer autoClose={3000} theme={'colored'} />\n    </div>\n  );\n}\n","import { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nexport default function toastError(query) {\r\n  return toast.error(`We did not find ${query}!`, {\r\n    position: 'top-right',\r\n    autoClose: 5000,\r\n    hideProgressBar: false,\r\n    closeOnClick: true,\r\n    pauseOnHover: true,\r\n    draggable: true,\r\n    progress: undefined,\r\n  });\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__9BzU6\",\"form\":\"Searchbar_form__1pP2D\",\"button\":\"Searchbar_button__24-H2\",\"buttonLabel\":\"Searchbar_buttonLabel__6G3_s\",\"input\":\"Searchbar_input__25lmk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__3VKJk\",\"galleryItem\":\"ImageGallery_galleryItem__3XOAB\",\"image\":\"ImageGallery_image__Nt1Uq\"};"],"sourceRoot":""}