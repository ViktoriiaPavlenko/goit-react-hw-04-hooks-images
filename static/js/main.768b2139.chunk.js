(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={overlay:"Modal_overlay__2IYoF",modal:"Modal_modal__2PC0u",image:"Modal_image__3vF6i"}},12:function(e,t,a){e.exports={App:"App_App__2v-fI",error:"App_error__3rVlJ"}},15:function(e,t,a){e.exports={button:"Button_button__-gCA-"}},45:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(4),o=a.n(c),s=(a(22),a(13)),i=a(3),l=a(8);a(14);var u={fetchImages:function(e,t){var a="".concat("https://pixabay.com/api/","?q=").concat(e,"&page=").concat(t,"&key=").concat("23950514-2b2a864c0ec6a6714acf66442","&image_type=photo&orientation=horizontal&per_page=12");return fetch(a).then((function(t){return t.ok?t.json():Promise.reject(new Error("No results were found for ".concat(e)))}))}},b=a(17),j=a(5),m=a.n(j),g=a(1),f=function(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(i.a)(a,2),c=r[0],o=r[1];return Object(g.jsx)("header",{className:m.a.searchbar,children:Object(g.jsxs)("form",{className:m.a.form,onSubmit:function(e){if(e.preventDefault(),""===c.trim())return l.b.warn("Please, enter your query");t(c.trim()),o("")},children:[Object(g.jsxs)("button",{type:"submit",className:m.a.button,children:[Object(g.jsx)(b.a,{}),Object(g.jsx)("span",{className:m.a.buttonLabel,children:"Search"})]}),Object(g.jsx)("input",{className:m.a.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:c,onChange:function(e){o(e.target.value.toLowerCase())}})]})})},d=a(7),h=a.n(d);var p=function(e){var t=e.tags,a=e.src,n=e.largeImageURL,r=e.openModal;return Object(g.jsx)("li",{className:h.a.galleryItem,onClick:r,children:Object(g.jsx)("img",{src:a,alt:t,"data-largeimg":n,className:h.a.image})})};var O=function(e){var t=e.images,a=e.openModal;return Object(g.jsx)("ul",{className:h.a.gallery,children:t.map((function(e){var t=e.id,n=e.tags,r=e.webformatURL,c=e.largeImageURL;return Object(g.jsx)(p,{tags:n,src:r,largeImageURL:c,openModal:a},t)}))})},_=a(15),v=a.n(_),x=function(e){var t=e.fetchImages;return Object(g.jsx)("button",{type:"button",onClick:t,className:v.a.button,children:"Load more"})},y=a(16),S=a.n(y),w=(a(44),function(){return Object(g.jsx)(S.a,{type:"Hearts",color:"#00BFFF",height:100,width:100})}),I=a(10),N=a.n(I),k=document.querySelector("#modal-root");function C(e){var t=e.onClose,a=e.src,r=e.alt;Object(n.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[t]);return Object(c.createPortal)(Object(g.jsx)("div",{onClick:function(e){e.target===e.currentTarget&&t()},className:N.a.overlay,children:Object(g.jsx)("div",{className:N.a.modal,children:Object(g.jsx)("img",{className:N.a.image,src:a,alt:r})})}),k)}var L=a(12),E=a.n(L);function M(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),o=Object(i.a)(c,2),b=o[0],j=o[1],m=Object(n.useState)(1),d=Object(i.a)(m,2),h=d[0],p=d[1],_=Object(n.useState)(!1),v=Object(i.a)(_,2),y=v[0],S=v[1],I=Object(n.useState)(!1),N=Object(i.a)(I,2),k=N[0],L=N[1],M=Object(n.useState)(""),A=Object(i.a)(M,2),B=A[0],F=A[1],P=Object(n.useState)(""),U=Object(i.a)(P,2),q=U[0],G=U[1],H=Object(n.useState)(""),J=Object(i.a)(H,2),R=J[0],D=J[1];Object(n.useEffect)((function(){a?(S(!0),u.fetchImages(a,h).then((function(e){var t=e.hits;if(0===t.length)return l.b.error("We did not find ".concat(a,"!"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});j((function(e){return[].concat(Object(s.a)(e),Object(s.a)(t))})),p(h)})).catch((function(e){return D("Please, try again")})).finally(S(!1))):j([])}),[h,a]);var z=function(){setTimeout((function(){window.scrollBy({top:document.documentElement.clientHeight,behavior:"smooth"})}),1e3)};return Object(g.jsxs)("div",{className:E.a.App,children:[Object(g.jsx)(f,{onSubmit:function(e){r(e),S(!0),j([]),p(1),D(null)}}),y&&Object(g.jsx)(w,{}),b.length>0&&!R&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(O,{openModal:function(e){e.preventDefault(),L(!0),F(e.target.dataset.largeimg),G(e.target.alt)},images:b}),Object(g.jsx)(x,{fetchImages:function(){p((function(e){return e+1})),z()}})]}),k&&Object(g.jsx)(C,{onClose:function(){L(!1)},src:B,alt:q}),R&&Object(g.jsx)("p",{className:E.a.error,children:R}),Object(g.jsx)(l.a,{autoClose:3e3,theme:"colored"})]})}a(45);o.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(M,{})}),document.getElementById("root"))},5:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__9BzU6",form:"Searchbar_form__1pP2D",button:"Searchbar_button__24-H2",buttonLabel:"Searchbar_buttonLabel__6G3_s",input:"Searchbar_input__25lmk"}},7:function(e,t,a){e.exports={gallery:"ImageGallery_gallery__3VKJk",galleryItem:"ImageGallery_galleryItem__3XOAB",image:"ImageGallery_image__Nt1Uq"}}},[[46,1,2]]]);
//# sourceMappingURL=main.768b2139.chunk.js.map